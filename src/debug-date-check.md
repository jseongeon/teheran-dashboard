# 날짜 데이터 디버깅 가이드

## 🔍 문제: 12월 30일까지만 데이터가 보임

### 1단계: 브라우저 콘솔 확인

F12를 눌러 콘솔을 열고 다음을 확인하세요:

```
🗓️ [연도 필터링] 원본 문의: XXXX건 → 2025년 이하: YYYY건
```

- **원본 문의 건수**: Google Sheets에서 가져온 전체 데이터
- **2025년 이하 건수**: 필터링 후 데이터

### 2단계: Google Sheets 직접 확인

1. Google Sheets의 "2025상담" 시트를 여세요
2. B열(날짜)을 확인하세요
3. 다음 질문에 답하세요:
   - [ ] 2025년 1월 데이터가 실제로 시트에 있나요?
   - [ ] 날짜 형식이 `2025-01-01` 형식인가요?
   - [ ] 마지막 데이터의 날짜는 무엇인가요?

### 3단계: 배치 동기화 로그 확인

콘솔에서 다음을 확인:

```
🔄 배치 1/20: 행 5~504 ✅
🔄 배치 2/20: 행 505~1004 ✅
...
🔄 배치 20/20: 행 9505~10004 ✅
```

- 모든 배치가 성공했나요?
- 에러가 있었나요?

### 4단계: 실제 시트 범위 확인

현재 배치 동기화 설정:
- 시작 행: 5행 (B5)
- 전체 행: 10,000행
- 범위: B5:S10004

**확인 사항:**
- Google Sheets에 실제로 10,000행 이상의 데이터가 있나요?
- 아니면 12월 30일 이후에는 빈 행인가요?

### 5단계: 날짜별 데이터 분포 확인

콘솔에서 다음 로그를 찾으세요:

```
📊 [최종 결과] 월별 수임건 수 (R열 수임일 기준):
  2025-01: XX건
  2025-02: XX건
  2025-12: XX건
```

이 로그에 1월 데이터가 있나요?

### 6단계: 해결 방법

#### 시나리오 A: Google Sheets에 1월 데이터가 없음
→ **정상**: 시트에 12월 30일까지만 입력되어 있음

#### 시나리오 B: Google Sheets에 1월 데이터가 있는데 안 보임
→ **문제 있음**: 다음 중 하나일 가능성:
1. 날짜 형식 문제 (`2025-01-01` 아닌 다른 형식)
2. 배치 동기화 범위 초과 (10,000행 이상에 데이터 있음)
3. 필터링 로직 오류

#### 시나리오 C: DB에는 들어갔지만 화면에 안 보임
→ 콘솔 로그를 확인하여 필터링 단계에서 제외되는지 체크

### 7단계: 임시 디버그 모드

콘솔에서 다음을 입력하여 원본 데이터 확인:

```javascript
// 현재 표시되는 데이터의 날짜 범위 확인
console.log("날짜 범위:", 
  Math.min(...window.inquiries?.map(i => new Date(i.date).getTime()) || []),
  "~",
  Math.max(...window.inquiries?.map(i => new Date(i.date).getTime()) || [])
)
```

## 📞 결과 보고

위 단계를 확인한 후 다음 정보를 알려주세요:

1. **Google Sheets 마지막 날짜**: _______________
2. **콘솔의 원본 문의 건수**: _______________
3. **콘솔의 필터링 후 건수**: _______________
4. **배치 동기화 성공 여부**: _______________
5. **월별 분포 로그에 1월 있나요?**: _______________
